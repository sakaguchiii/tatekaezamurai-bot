# ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€æ¸…ç®—ãã‚“ã®è»½å¾®ãªä¿®æ­£ã‹ã‚‰Raspberry Piã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã®æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸ“ ç›®æ¬¡

1. [ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ä¿®æ­£æ‰‹é †](#ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ä¿®æ­£æ‰‹é †)
2. [Gitã‚³ãƒŸãƒƒãƒˆ&ãƒ—ãƒƒã‚·ãƒ¥æ‰‹é †](#gitã‚³ãƒŸãƒƒãƒˆãƒ—ãƒƒã‚·ãƒ¥æ‰‹é †)
3. [Raspberry Piã§ã®æ›´æ–°æ‰‹é †](#raspberry-piã§ã®æ›´æ–°æ‰‹é †)
4. [é›»æºON/OFFæ™‚ã®å‹•ä½œ](#é›»æºonoffæ™‚ã®å‹•ä½œ)
5. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ä¿®æ­£æ‰‹é †

### 1. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

ä¾‹: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰æ›´ã™ã‚‹å ´åˆ

```bash
# VS Codeã‚„ãŠå¥½ã¿ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†
code server/src/handlers/commandHandler.ts
```

**ã‚ˆãç·¨é›†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:**
- `server/src/handlers/commandHandler.ts` - ã‚³ãƒãƒ³ãƒ‰å‡¦ç†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- `server/src/utils/formatter.ts` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- `server/src/utils/parser.ts` - ã‚³ãƒãƒ³ãƒ‰ã®èªè­˜ãƒ‘ã‚¿ãƒ¼ãƒ³

### 2. ãƒ“ãƒ«ãƒ‰ã—ã¦ç¢ºèª

```bash
cd server
npm run build
```

ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã‘ã‚Œã°OK âœ…

### 3. ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰

```bash
# ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm start

# åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ngrokã‚’èµ·å‹•
ngrok http 3000

# LINE Developersã§ngrokã®URLã‚’è¨­å®šã—ã¦ãƒ†ã‚¹ãƒˆ
```

---

## Gitã‚³ãƒŸãƒƒãƒˆ&ãƒ—ãƒƒã‚·ãƒ¥æ‰‹é †

### 1. å¤‰æ›´å†…å®¹ã‚’ç¢ºèª

```bash
cd /Users/sakaguchitsubasa/claude-code-test/260117_play/terminal1/tatekaezamurai-bot

# å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
git status

# å¤‰æ›´å†…å®¹ã‚’ç¢ºèª
git diff
```

### 2. ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°

```bash
# ã™ã¹ã¦ã®å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add -A

# ã¾ãŸã¯ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿
git add server/src/handlers/commandHandler.ts
```

### 3. ã‚³ãƒŸãƒƒãƒˆ

```bash
git commit -m "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç°¡æ½”ã«å¤‰æ›´"
```

**ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›¸ãæ–¹:**
- ç°¡æ½”ã«ï¼ˆ1è¡Œã§ï¼‰
- ä½•ã‚’å¤‰æ›´ã—ãŸã‹ã‚’æ˜ç¢ºã«
- ä¾‹:
  - `"å‚åŠ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã•ã‚‰ã«ç°¡æ½”ã«å¤‰æ›´"`
  - `"ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®èª¤å­—ã‚’ä¿®æ­£"`
  - `"çµ‚äº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€ŒOKï¼ã€ã®ã¿ã«å¤‰æ›´"`

### 4. GitHubã«ãƒ—ãƒƒã‚·ãƒ¥

```bash
git push origin main
```

**åˆå›ã®ã¿ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’è¨­å®šã—ã¦ã„ãªã„å ´åˆï¼‰:**
```bash
# GitHubã§ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ã‹ã‚‰
git remote add origin https://github.com/ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å/tatekaezamurai-bot.git
git branch -M main
git push -u origin main
```

---

## Raspberry Piã§ã®æ›´æ–°æ‰‹é †

### SSHæ¥ç¶š

```bash
# Macã‹ã‚‰ Raspberry Pi ã«æ¥ç¶š
ssh pi@raspberrypi.local
# ã¾ãŸã¯IPã‚¢ãƒ‰ãƒ¬ã‚¹ã§
ssh pi@192.168.x.x
```

**ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã‚‰å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚**

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•

```bash
cd ~/tatekaezamurai-bot
```

### 2. ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¢ºèª

```bash
# ç¾åœ¨å‹•ã„ã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ã®çŠ¶æ…‹
pm2 status

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¨ã‚³ãƒŸãƒƒãƒˆã‚’ç¢ºèª
git status
git log --oneline -5
```

### 3. æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—

```bash
# GitHub ã‹ã‚‰æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
git pull origin main
```

**ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆ:**
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã®å¤‰æ›´ã‚’ç ´æ£„ã—ã¦ã‹ã‚‰å†å–å¾—
git reset --hard HEAD
git pull origin main
```

### 4. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆpackage.jsonãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã®ã¿ï¼‰

```bash
cd server
npm install
```

**é€šå¸¸ã®è»½å¾®ãªä¿®æ­£ã§ã¯ä¸è¦ã§ã™ã€‚**

### 5. ãƒ“ãƒ«ãƒ‰

```bash
npm run build
```

### 6. ã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•

```bash
# pm2ã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•
pm2 restart tatekaezamurai

# ãƒ­ã‚°ã‚’ç¢ºèª
pm2 logs tatekaezamurai --lines 20
```

**ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚**

### 7. å‹•ä½œç¢ºèª

```bash
# ãƒ—ãƒ­ã‚»ã‚¹ãŒæ­£å¸¸ã«å‹•ã„ã¦ã„ã‚‹ã‹ç¢ºèª
pm2 status

# ãƒ­ã‚°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–
pm2 logs tatekaezamurai
```

**LINEã§ã€Œãƒ˜ãƒ«ãƒ—ã€ã¨é€ä¿¡ã—ã¦æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚**

### 8. SSHæ¥ç¶šã‚’çµ‚äº†

```bash
exit
```

---

## é›»æºON/OFFæ™‚ã®å‹•ä½œ

### ğŸ”Œ Raspberry Pi ã®é›»æºã‚’åˆ‡ã‚‹å ´åˆ

**å®‰å…¨ãªã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³æ‰‹é †:**

```bash
# SSHæ¥ç¶šã—ã¦ã‹ã‚‰
sudo shutdown -h now

# ã¾ãŸã¯
sudo poweroff
```

**æ³¨æ„:** ã‚³ãƒ³ã‚»ãƒ³ãƒˆã‚’ã„ããªã‚ŠæŠœãã®ã¯é¿ã‘ã¦ãã ã•ã„ï¼ˆSDã‚«ãƒ¼ãƒ‰ãŒå£Šã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼‰

### âš¡ï¸ é›»æºã‚’å…¥ã‚ŒãŸå ´åˆ

**è‡ªå‹•èµ·å‹•ã®å‹•ä½œ:**

1. **Raspberry Pi ãŒèµ·å‹•**
   - OSãŒèµ·å‹•ï¼ˆç´„30ç§’ã€œ1åˆ†ï¼‰

2. **pm2ãŒè‡ªå‹•ã§èµ·å‹•**
   - `pm2 startup` ã§è¨­å®šæ¸ˆã¿ã®å ´åˆã€pm2ãŒè‡ªå‹•èµ·å‹•
   - pm2ãŒç®¡ç†ã—ã¦ã„ã‚‹ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚è‡ªå‹•èµ·å‹•

3. **2ã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•**
   - â‘  **æ¸…ç®—ãã‚“ï¼ˆtatekaezamuraiï¼‰** - LINEãƒœãƒƒãƒˆæœ¬ä½“
   - â‘¡ **ngrok** - å¤–éƒ¨å…¬é–‹ç”¨ãƒˆãƒ³ãƒãƒ«

### ğŸ“± ç¾åœ¨ã®è¨­å®šç¢ºèª

**pm2ã®è‡ªå‹•èµ·å‹•ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª:**

```bash
# SSHæ¥ç¶šã—ã¦ã‹ã‚‰
pm2 startup

# ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ãƒªã‚¹ãƒˆã‚’ç¢ºèª
pm2 list
```

**å‡ºåŠ›ä¾‹:**
```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id  â”‚ name           â”‚ status  â”‚ restart â”‚ uptime   â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0   â”‚ tatekaezamurai â”‚ online  â”‚ 0       â”‚ 2h       â”‚
â”‚ 1   â”‚ ngrok          â”‚ online  â”‚ 0       â”‚ 2h       â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸš¨ è‡ªå‹•èµ·å‹•ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆ

**åˆå›ã®ã¿å®Ÿè¡Œï¼ˆpm2ã®è‡ªå‹•èµ·å‹•ã‚’è¨­å®šï¼‰:**

```bash
# pm2ã®è‡ªå‹•èµ·å‹•ã‚’æœ‰åŠ¹åŒ–
pm2 startup

# ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å®Ÿè¡Œ
# ä¾‹: sudo env PATH=$PATH:/usr/bin /usr/local/lib/node_modules/pm2/bin/pm2 startup systemd -u pi --hp /home/pi

# ç¾åœ¨ã®ãƒ—ãƒ­ã‚»ã‚¹ãƒªã‚¹ãƒˆã‚’ä¿å­˜
pm2 save
```

### ğŸ”„ é›»æºONå¾Œã®å‹•ä½œãƒ•ãƒ­ãƒ¼

```
é›»æºON
  â†“
Raspberry Pi èµ·å‹•ï¼ˆ30ç§’ã€œ1åˆ†ï¼‰
  â†“
pm2 è‡ªå‹•èµ·å‹•
  â†“
æ¸…ç®—ãã‚“ï¼ˆtatekaezamuraiï¼‰èµ·å‹•
  â†“
ngrok èµ·å‹•ï¼ˆLINEã¨æ¥ç¶šï¼‰
  â†“
âœ… åˆ©ç”¨å¯èƒ½
```

**é€šå¸¸ã€é›»æºã‚’å…¥ã‚Œã¦ã‹ã‚‰1ã€œ2åˆ†ã§å®Œå…¨ã«èµ·å‹•ã—ã¾ã™ã€‚**

### ğŸ“Š èµ·å‹•çŠ¶æ…‹ã®ç¢ºèªæ–¹æ³•

**SSHæ¥ç¶šã›ãšã«ç¢ºèª:**
- LINEã§ã€Œãƒ˜ãƒ«ãƒ—ã€ã¨é€ä¿¡ â†’ è¿”ä¿¡ãŒã‚ã‚Œã°OK

**SSHæ¥ç¶šã—ã¦ç¢ºèª:**
```bash
pm2 status
pm2 logs tatekaezamurai --lines 10
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### âŒ git pull ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**ã‚¨ãƒ©ãƒ¼ä¾‹:**
```
error: Your local changes to the following files would be overwritten by merge
```

**è§£æ±ºæ–¹æ³•:**
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã®å¤‰æ›´ã‚’ç ´æ£„
git reset --hard HEAD

# å†åº¦å–å¾—
git pull origin main
```

### âŒ npm run build ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**è§£æ±ºæ–¹æ³•1: node_modules ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```bash
cd server
rm -rf node_modules package-lock.json
npm install
npm run build
```

**è§£æ±ºæ–¹æ³•2: Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª**
```bash
node --version
# v18ä»¥ä¸ŠãŒæ¨å¥¨
```

### âŒ pm2 restart ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**ã‚¨ãƒ©ãƒ¼ç¢ºèª:**
```bash
pm2 logs tatekaezamurai --lines 50
```

**ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼:**

1. **ç’°å¢ƒå¤‰æ•°ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„**
   ```bash
   # .envãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ã„å ´æ‰€ã«ã‚ã‚‹ã‹ç¢ºèª
   ls -la ~/tatekaezamurai-bot/server/.env

   # ä¸­èº«ã‚’ç¢ºèªï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯éš ã•ã‚Œã‚‹ï¼‰
   cat ~/tatekaezamurai-bot/server/.env
   ```

2. **ãƒãƒ¼ãƒˆ3000ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹**
   ```bash
   # ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
   pm2 stop all
   pm2 delete all

   # å†åº¦èµ·å‹•
   cd ~/tatekaezamurai-bot/server
   pm2 start dist/index.js --name tatekaezamurai
   pm2 save
   ```

### âŒ LINEãƒœãƒƒãƒˆãŒåå¿œã—ãªã„

**ç¢ºèªæ‰‹é †:**

1. **Raspberry Piã®ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹**
   ```bash
   pm2 status
   ```

2. **ngrokãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹**
   ```bash
   pm2 logs ngrok --lines 10
   ```

3. **ngrokã®URLãŒå¤‰ã‚ã£ã¦ã„ãªã„ã‹**
   - ngrokã¯ç„¡æ–™ç‰ˆã ã¨URLãŒèµ·å‹•ã”ã¨ã«å¤‰ã‚ã‚Šã¾ã™
   - LINE Developersã®Webhook URLã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™

   ```bash
   # ngrokã®URLã‚’ç¢ºèª
   curl http://localhost:4040/api/tunnels
   ```

4. **LINE Developersã§Webhook URLã‚’ç¢ºèª**
   - https://developers.line.biz/console/
   - Messaging API â†’ Webhook settings
   - Webhook URLãŒç¾åœ¨ã®ngrok URLã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª

### âŒ é›»æºã‚’å…¥ã‚Œã¦ã‚‚ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

**ç¢ºèª:**
```bash
# pm2ã®è‡ªå‹•èµ·å‹•ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
pm2 startup

# ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‹
pm2 list
```

**å†è¨­å®š:**
```bash
# ã‚µãƒ¼ãƒãƒ¼ã‚’æ‰‹å‹•ã§èµ·å‹•
cd ~/tatekaezamurai-bot/server
pm2 start dist/index.js --name tatekaezamurai

# ngrokã‚‚èµ·å‹•
pm2 start ngrok --name ngrok -- http 3000

# ä¿å­˜
pm2 save
```

---

## ğŸ“š ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

### ãƒ­ãƒ¼ã‚«ãƒ«ï¼ˆMacï¼‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `git status` | å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª |
| `git diff` | å¤‰æ›´å†…å®¹ã‚’ç¢ºèª |
| `git add -A` | ã™ã¹ã¦ã®å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚° |
| `git commit -m "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"` | ã‚³ãƒŸãƒƒãƒˆ |
| `git push origin main` | GitHubã«ãƒ—ãƒƒã‚·ãƒ¥ |
| `cd server && npm run build` | ãƒ“ãƒ«ãƒ‰ |

### Raspberry Pi

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `ssh pi@raspberrypi.local` | SSHæ¥ç¶š |
| `cd ~/tatekaezamurai-bot` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç§»å‹• |
| `git pull origin main` | æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾— |
| `npm run build` | ãƒ“ãƒ«ãƒ‰ |
| `pm2 restart tatekaezamurai` | ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹• |
| `pm2 logs tatekaezamurai` | ãƒ­ã‚°ã‚’ç¢ºèª |
| `pm2 status` | çŠ¶æ…‹ã‚’ç¢ºèª |
| `pm2 save` | ç¾åœ¨ã®çŠ¶æ…‹ã‚’ä¿å­˜ |
| `sudo shutdown -h now` | ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ |

---

## ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ä¿®æ­£ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§

- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
- [ ] `npm run build` ã§ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆï¼ˆä»»æ„ï¼‰
- [ ] `git status` ã§å¤‰æ›´ã‚’ç¢ºèª
- [ ] `git add -A` ã§ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
- [ ] `git commit -m "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"` ã§ã‚³ãƒŸãƒƒãƒˆ
- [ ] `git push origin main` ã§ãƒ—ãƒƒã‚·ãƒ¥
- [ ] Raspberry Piã«SSHæ¥ç¶š
- [ ] `git pull origin main` ã§æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
- [ ] `npm run build` ã§ãƒ“ãƒ«ãƒ‰
- [ ] `pm2 restart tatekaezamurai` ã§å†èµ·å‹•
- [ ] `pm2 logs` ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª
- [ ] LINEã§ãƒ†ã‚¹ãƒˆ
- [ ] `exit` ã§SSHåˆ‡æ–­

---

## ğŸ¯ ã¾ã¨ã‚

**åŸºæœ¬çš„ãªæµã‚Œ:**
```
1. ãƒ­ãƒ¼ã‚«ãƒ«ã§ä¿®æ­£
   â†“
2. ãƒ“ãƒ«ãƒ‰ç¢ºèª
   â†“
3. Git ã‚³ãƒŸãƒƒãƒˆ & ãƒ—ãƒƒã‚·ãƒ¥
   â†“
4. Raspberry Pi ã« SSHæ¥ç¶š
   â†“
5. git pull ã§ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
   â†“
6. ãƒ“ãƒ«ãƒ‰
   â†“
7. pm2 restart ã§å†èµ·å‹•
   â†“
8. å‹•ä½œç¢ºèª
```

**é›»æºON/OFF:**
- âœ… pm2ã®è‡ªå‹•èµ·å‹•ãŒè¨­å®šæ¸ˆã¿ãªã‚‰ã€é›»æºONã§è‡ªå‹•çš„ã«ã™ã¹ã¦èµ·å‹•
- âš ï¸ ngrokã¯ç„¡æ–™ç‰ˆã ã¨URLãŒå¤‰ã‚ã‚‹ãŸã‚ã€LINE Developersã®Webhook URLã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã‚ã‚Š

ä½•ã‹å•é¡ŒãŒç™ºç”Ÿã—ãŸã‚‰ã€ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼

---

**ä½œæˆæ—¥:** 2026å¹´1æœˆ19æ—¥
**æœ€çµ‚æ›´æ–°:** 2026å¹´1æœˆ19æ—¥
